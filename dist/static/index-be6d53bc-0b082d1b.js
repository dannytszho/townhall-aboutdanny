import{s as g,h as x,Y as L,cw as P,j as o,aC as k,aD as w,ct as B,f as _,b3 as C,aE as T,aT as j,r as v,B as A,Z as O,cg as D}from"./sanity-00f2e36b.js";import{useDeskTool as S}from"./index-1873ab3b-08d84c1a.js";import{P as H}from"./PaneItem-9b239a45-fd8a7577.js";import"./json-inspector-33566c90.js";var I;function W(s,t){return t||(t=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(t)}}))}const E=s=>{let{index:t,menuItems:a,menuItemGroups:i,title:d}=s;const{features:r}=S(),{collapsed:l,isLast:p}=k(),u=p&&!l?-1:0;return o(w,{actions:o(B,{menuItems:a,menuItemGroups:i}),backButton:r.backButton&&t>0&&o(_,{as:C,"data-as":"a",icon:T,mode:"bleed"}),tabIndex:u,title:d})},G=g.hr(I||(I=W([`
  background-color: var(--card-border-color);
  height: 1px;
  margin: 0;
  border: none;
`])));function z(s){const{childItemId:t,items:a,isActive:i,layout:d,showIcons:r,title:l}=s,{collapsed:p}=j(),u=v.useCallback(e=>{var n;return((n=a==null?void 0:a.find((c,h)=>h===e))==null?void 0:n.type)==="divider"},[a]),m=v.useCallback(e=>{var n;const c=(n=e.displayOptions)==null?void 0:n.showIcon;return typeof c<"u"?c!==!1:r!==!1},[r]),f=v.useCallback((e,n)=>{const{virtualIndex:c}=n;if(e.type==="divider")return o(A,{marginTop:1,marginBottom:2,children:o(G,{})},"divider-".concat(c));const h=!i&&t===e.id,y=i&&t===e.id,b=e._id&&e.schemaType?{_id:e._id,_type:e.schemaType.name,title:e.title}:void 0;return o(H,{icon:m(e)?e.icon:!1,id:e.id,layout:d,marginBottom:1,pressed:h,schemaType:e.schemaType,selected:y,title:e.title,value:b},e.id)},[t,i,d,m]);return o(O,{overflow:p?"hidden":"auto",children:a&&a.length>0&&o(D,{activeItemDataAttr:"data-hovered",ariaLabel:"List of ".concat(l),canReceiveFocus:!0,focusRingOffset:-3,getItemDisabled:u,itemHeight:51,items:a,onlyShowSelectionWhenActive:!0,padding:2,paddingBottom:1,renderItem:f,wrapAround:!1})})}function U(s){const{childItemId:t,index:a,isActive:i,isSelected:d,pane:r,paneKey:l}=s,{defaultLayout:p,displayOptions:u,items:m,menuItems:f,menuItemGroups:e,title:n}=r,c=(u==null?void 0:u.showIcons)!==!1;return x(L,{currentMaxWidth:350,"data-testid":"desk-tool-list-pane","data-ui":"ListPane",id:l,maxWidth:640,minWidth:320,selected:d,children:[P,o(E,{index:a,menuItems:f,menuItemGroups:e,title:n}),o(z,{childItemId:t,isActive:i,items:m,layout:p,showIcons:c,title:n},l)]})}export{U as default};
